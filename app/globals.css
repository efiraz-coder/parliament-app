@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   ACCESSIBILITY-FIRST DESIGN SYSTEM
   Base: 18px, High Contrast, Large Targets
   No Glassmorphism - Solid, Readable UI
   ======================================== */

/* Import Google Fonts - High Legibility + Serif for headings */
@import url('https://fonts.googleapis.com/css2?family=Frank+Ruhl+Libre:wght@400;500;600;700&family=Heebo:wght@300;400;500;600;700&display=swap');

@layer base {
  :root {
    --font-serif: 'Frank Ruhl Libre', Georgia, 'Times New Roman', serif;
    --font-heebo: 'Heebo', system-ui, -apple-system, sans-serif;
    
    /* Navy Blue Brand Color */
    --brand-navy: #1a3a5c;
    --brand-navy-dark: #152d47;
    --brand-navy-light: #2d5a8a;
    
    /* High Contrast Light Mode */
    --background: #f8fafc;
    --foreground: #0f172a;
    --card: #ffffff;
    --card-border: #e2e8f0;
    --primary: #1a3a5c;
    --primary-hover: #152d47;
    --secondary: #64748b;
    --muted: #94a3b8;
    --success: #059669;
    --warning: #d97706;
    --danger: #dc2626;
  }

  .dark {
    --background: #0f172a;
    --foreground: #f1f5f9;
    --card: #1e293b;
    --card-border: #334155;
    --primary: #3b82f6;
    --primary-hover: #60a5fa;
    --secondary: #94a3b8;
    --muted: #64748b;
    --success: #34d399;
    --warning: #fbbf24;
    --danger: #f87171;
  }

  html {
    font-size: 18px; /* BASE SIZE: 18px for accessibility */
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: var(--font-heebo), system-ui, sans-serif;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.6;
  }

  /* High Contrast Text - Serif for headings */
  h1, h2, h3 {
    font-family: var(--font-serif), Georgia, serif;
    font-weight: 700;
    line-height: 1.3;
    color: var(--foreground);
  }

  h4, h5, h6 {
    font-weight: 600;
    line-height: 1.4;
    color: var(--foreground);
  }

  /* Accessible focus states */
  *:focus-visible {
    outline: 3px solid var(--primary);
    outline-offset: 2px;
  }
}

@layer components {
  /* ========================================
     SOLID CARDS - No Glassmorphism
     High contrast with subtle borders
     ======================================== */
  
  .card {
    @apply bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-600 shadow-sm;
  }

  .card-elevated {
    @apply bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-600 shadow-md;
  }

  /* ========================================
     ROOM CARDS - For Private Rooms
     ======================================== */
  
  .room-card {
    @apply bg-white dark:bg-slate-800 rounded-2xl border-2 border-slate-200 dark:border-slate-600 p-5 transition-all duration-200;
    min-height: 120px;
  }

  .room-card:hover {
    @apply border-indigo-400 dark:border-indigo-500 shadow-md;
  }

  .room-card:active {
    @apply scale-[0.98];
  }

  /* ========================================
     QUESTION CARDS - Provocative Questions
     ======================================== */
  
  .question-card {
    @apply bg-white dark:bg-slate-800 rounded-xl border-2 border-slate-200 dark:border-slate-600 p-4 transition-all duration-200;
    min-height: 80px;
  }

  .question-card:hover {
    @apply border-indigo-400 dark:border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20;
  }

  /* ========================================
     BOTTOM NAVIGATION - 4 Items
     Large touch targets (min 48px)
     ======================================== */
  
  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-t-2 border-slate-200 dark:border-slate-700 px-2 py-1 md:hidden;
    padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
  }

  .bottom-nav-item {
    @apply flex flex-col items-center justify-center py-2 px-3 rounded-xl transition-colors duration-200;
    min-height: 56px;
    min-width: 64px;
  }

  .bottom-nav-item.active {
    @apply bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300;
  }

  .bottom-nav-item:not(.active) {
    @apply text-slate-600 dark:text-slate-400;
  }

  .bottom-nav-item:not(.active):hover {
    @apply bg-slate-100 dark:bg-slate-800;
  }

  .bottom-nav-label {
    @apply text-xs font-semibold mt-1;
  }

  /* ========================================
     SIDEBAR - Desktop Only
     ======================================== */
  
  .sidebar {
    @apply hidden md:flex fixed right-0 top-0 bottom-0 w-72 bg-white dark:bg-slate-900 border-l-2 border-slate-200 dark:border-slate-700 flex-col z-40;
  }

  .sidebar-item {
    @apply flex items-center gap-3 px-5 py-4 mx-3 rounded-xl transition-all duration-200 text-slate-700 dark:text-slate-300 font-medium;
    min-height: 56px;
  }

  .sidebar-item:hover {
    @apply bg-slate-100 dark:bg-slate-800;
  }

  .sidebar-item.active {
    @apply bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 font-semibold;
  }

  /* ========================================
     BUTTONS - Large Touch Targets
     Minimum 48px height
     ======================================== */
  
  .btn {
    @apply inline-flex items-center justify-center gap-2 font-semibold rounded-xl transition-all duration-200;
    min-height: 48px;
    padding: 0.75rem 1.5rem;
  }

  .btn-primary {
    background-color: var(--brand-navy);
    @apply text-white shadow-md;
  }

  .btn-primary:hover {
    background-color: var(--brand-navy-dark);
  }

  .btn-primary:active {
    @apply scale-[0.98];
    background-color: #0f1f30;
  }

  .btn-secondary {
    @apply bg-white dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200;
  }

  .btn-secondary:hover {
    @apply border-slate-400 dark:border-slate-500 bg-slate-50 dark:bg-slate-700;
  }

  .btn-ghost {
    @apply text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800;
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white;
  }

  .btn-lg {
    min-height: 56px;
    padding: 1rem 2rem;
    @apply text-lg;
  }

  .btn-full {
    @apply w-full;
  }

  /* ========================================
     INPUTS - Accessible Form Fields
     ======================================== */
  
  .input {
    @apply w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-600 rounded-xl text-slate-900 dark:text-white placeholder:text-slate-400;
    min-height: 48px;
    font-size: 1rem;
  }

  .input:focus {
    @apply border-indigo-500 outline-none ring-2 ring-indigo-500/20;
  }

  .input-error {
    @apply border-red-500 focus:border-red-500 focus:ring-red-500/20;
  }

  .label {
    @apply block text-base font-semibold text-slate-700 dark:text-slate-300 mb-2;
  }

  /* ========================================
     BADGES & TAGS
     ======================================== */
  
  .badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold;
  }

  .badge-primary {
    @apply bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300;
  }

  .badge-success {
    @apply bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300;
  }

  .badge-warning {
    @apply bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300;
  }

  .badge-danger {
    @apply bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300;
  }

  .badge-neutral {
    @apply bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300;
  }

  /* ========================================
     TABS - Room Switching
     ======================================== */
  
  .tabs {
    @apply flex gap-2 overflow-x-auto pb-2;
    -webkit-overflow-scrolling: touch;
  }

  .tab {
    @apply px-4 py-3 rounded-xl font-semibold whitespace-nowrap transition-colors duration-200;
    min-height: 48px;
  }

  .tab.active {
    @apply bg-indigo-600 text-white;
  }

  .tab:not(.active) {
    @apply bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400;
  }

  .tab:not(.active):hover {
    @apply bg-slate-200 dark:bg-slate-700;
  }

  /* ========================================
     SHEET / DRAWER - Mobile Settings
     ======================================== */
  
  .sheet-overlay {
    @apply fixed inset-0 bg-black/60 z-50;
  }

  .sheet {
    @apply fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-900 rounded-t-3xl z-50 max-h-[85vh] overflow-y-auto;
    padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
  }

  .sheet-handle {
    @apply w-12 h-1.5 bg-slate-300 dark:bg-slate-600 rounded-full mx-auto mt-3 mb-4;
  }

  /* ========================================
     TOGGLE / SWITCH - Anonymous Posting
     ======================================== */
  
  .toggle {
    @apply relative inline-flex items-center cursor-pointer;
  }

  .toggle-track {
    @apply w-14 h-8 bg-slate-300 dark:bg-slate-600 rounded-full transition-colors duration-200;
  }

  .toggle-track.active {
    @apply bg-indigo-600;
  }

  .toggle-thumb {
    @apply absolute left-1 top-1 w-6 h-6 bg-white rounded-full shadow transition-transform duration-200;
  }

  .toggle-thumb.active {
    @apply translate-x-6;
  }

  /* ========================================
     BOOKMARK ICON
     ======================================== */
  
  .bookmark-btn {
    @apply p-2 rounded-lg transition-colors duration-200;
    min-width: 44px;
    min-height: 44px;
  }

  .bookmark-btn:hover {
    @apply bg-slate-100 dark:bg-slate-700;
  }

  .bookmark-btn.active {
    @apply text-amber-500;
  }

  /* ========================================
     THREAD VIEW - Expert vs Community
     ======================================== */
  
  .thread-tabs {
    @apply flex gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl;
  }

  .thread-tab {
    @apply flex-1 py-3 px-4 rounded-lg font-semibold text-center transition-colors duration-200;
    min-height: 48px;
  }

  .thread-tab.active {
    @apply bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm;
  }

  .thread-tab:not(.active) {
    @apply text-slate-500 dark:text-slate-400;
  }

  /* ========================================
     SCROLLBAR HIDE - Keep Functionality
     ======================================== */
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* ========================================
     SECURITY DISCLAIMER
     ======================================== */
  
  .security-warning {
    @apply p-4 bg-blue-600 text-white rounded-xl text-lg font-bold text-center;
  }
}

@layer utilities {
  /* Safe Area Padding */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  /* Animation Utilities */
  .transition-fast {
    transition-duration: 150ms;
  }

  .transition-normal {
    transition-duration: 200ms;
  }

  /* Text Utilities */
  .text-balance {
    text-wrap: balance;
  }
}

/* ========================================
   RESPONSIVE CONTAINER SYSTEM
   Mobile-first with max-width 1200px
   ======================================== */

.page-container {
  @apply w-full mx-auto;
  max-width: 1200px;
}

/* Responsive padding */
.section-padding {
  @apply px-4 py-6;
}

@media (min-width: 640px) {
  .section-padding {
    @apply px-6 py-8;
  }
}

@media (min-width: 1024px) {
  .section-padding {
    @apply px-8 py-10;
  }
}

/* Responsive card grid */
.card-grid {
  @apply grid gap-4;
  grid-template-columns: 1fr;
}

@media (min-width: 640px) {
  .card-grid {
    grid-template-columns: repeat(2, 1fr);
    @apply gap-5;
  }
}

@media (min-width: 1024px) {
  .card-grid {
    grid-template-columns: repeat(3, 1fr);
    @apply gap-6;
  }
}

/* Two-column grid for larger items */
.card-grid-2 {
  @apply grid gap-4;
  grid-template-columns: 1fr;
}

@media (min-width: 768px) {
  .card-grid-2 {
    grid-template-columns: repeat(2, 1fr);
    @apply gap-5;
  }
}
