# עדכון הפרלמנט ב-Vercel

אחרי שינויים בפרויקט (רפקטור, תיקונים, פיצ'רים) – כך מעדכנים את האתר החי ב־**Vercel**.

---

## תהליך עדכון (3 צעדים)

### 1. שמירת השינויים ב-Git

בתיקיית הפרויקט (Terminal או PowerShell):

```bash
git add .
git status
git commit -m "עדכון: רפקטור, תיקונים ותמיכה ב-actionPlan"
```

### 2. דחיפה ל-GitHub

```bash
git push origin main
```

(אם ה-branch הראשי אצלך נקרא `master`, החלף ל־`git push origin master`.)

### 3. Vercel מעדכן אוטומטית

- Vercel מזהה את ה־push ומתחיל **Build** חדש.
- ב־**[vercel.com](https://vercel.com)** → הפרויקט שלך → **Deployments** תראה את הבנייה (Building → Ready).
- כשהסטטוס **Ready**, האתר החי כבר מעודכן בכתובת שלך.

---

## משתני סביבה ב-Vercel

וודא שב-Vercel מוגדרים אותם משתנים כמו ב־`.env.local`:

1. ב-Vercel: **Project → Settings → Environment Variables**
2. הוסף (או עדכן) לכל הסביבות (Production, Preview):

| משתנה | תיאור |
|--------|--------|
| `OPENAI_API_KEY` | מפתח OpenAI (חובה) |
| `DATABASE_URL` | חיבור DB (אם יש Prisma/משתמשים) |
| `GMAIL_USER` | אימייל Gmail לשליחת קודים |
| `GMAIL_APP_PASSWORD` | App Password של Gmail |
| `JWT_SECRET` | מפתח סודי ל-JWT (מחרוזת אקראית) |
| `NEXT_PUBLIC_APP_URL` | **כתובת האתר החי** (למשל `https://parliament-xxx.vercel.app`) |

אחרי שינוי משתנים – ב-Deployments לחץ **Redeploy** על ה-deployment האחרון כדי שהשינויים ייכנסו.

---

## אם הבנייה נכשלת (Build Failed)

1. ב-Vercel: **Deployments** → לחץ על ה-deployment שנכשל → **Building**.
2. קרא את **הודעת השגיאה** (באדום).
3. נפוץ:
   - **חוסר משתנה** – הוסף ב-Settings → Environment Variables.
   - **שגיאת קוד/TypeScript** – תקן מקומית, הרץ `npm run build`, ואז שוב `git push`.

---

## סיכום

| צעד | פעולה |
|-----|--------|
| 1 | `git add .` → `git commit -m "עדכון"` |
| 2 | `git push origin main` |
| 3 | Vercel בונה ומעדכן אוטומטית – בדוק ב-Deployments שהבנייה הצליחה |
